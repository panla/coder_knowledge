# Redis 管理

## 系统设置

- 系统内存：/etc/sysctl.conf vm.overcommit_memory = 1

## 持久化

- RDB: 以指定的时间间隔执行数据集的时间点快照。
- AOF: 记录服务器接收到的每个写操作，在服务器启动时再次播放，重建原始数据集。
- RDB + AOF
- No

### RDB

优点：

- 结构紧凑
- 性能，父进程不会执行磁盘 IO
- 允许使用大数据集更快的重启

缺点：

- 存在数据丢失风险
- 如果数据集比较大，fork() 子进程进行持久化会耗时

配置：

- save 60 1000 在60秒内至少更改了1000个键，就持久化

### AOF

优点：

- 更加持久，丢失数据风险小
- 日志是附加日志

缺点：

- AOF 文件更大

配置：

- appendonly yes
