# 概要

[文档](https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html)

Elasticsearch是一个分布式文档存储。Elasticsearch不会将信息存储为列数据的行，而是存储已序列化为JSON文档的复杂数据结构。当集群中有多个Elasticsearch节点时，存储的文档将分布在集群中，并且可以从任何节点立即访问。

存储文档后，将在1秒钟之内几乎实时地对其进行索引和完全搜索。Elasticsearch使用称为倒排索引的数据结构，该结构支持非常快速的全文本搜索。反向索引列出了出现在任何文档中的每个唯一单词，并标识了每个单词出现的所有文档。

ElasticSearch 是面向文档

## 搜索数据

[搜索数据](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-analyze.html)

Elasticsearch REST API支持结构化查询，全文查询和结合了两者的复杂查询。结构化查询类似于您可以在SQL中构造的查询类型。例如，您可以搜索索引中的gender和age字段，employee然后按hire_date字段对匹配项进行排序。全文查询会找到所有与查询字符串匹配的文档，并按相关性（它们与您的搜索字词的匹配程度）进行排序，并返回它们。

可以执行短语搜索，相似性搜索和前缀搜索，JSON样式查询语言，构造SQL样式的查询

## 面向文档

| 关系型数据库 | ES |
| :-: | :-: |
| database | 索引 |
| table | types |
| rows | documents |
| columns | fields |

## ES 逻辑设计

### ES 文档

一条数据

- 自我包含
- 可以是层次型
- 灵活结构

### ES 类型

pass

### ES 索引

数据库级

一个 ES 的索引是多个 Lucene 索引组成的

#### 倒排索引

## IK 分词器

```text
elasticsearch-analysis-ik
```

download into plugins

### 分词算法

- `ik_smart` 最少切分
- `ik_max_word` 最细粒度划分
