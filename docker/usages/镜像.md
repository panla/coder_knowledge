# 镜像

## 获取镜像

```bash
docker pull --help
docker pull [选项] [Docker Registry 地址[:端口号]/]仓库名[:标签]
docker pull ubuntu:18.04
```

## 命令

运行

```bash
docker run -it --rm ubuntu:18.04 bash
```

列出镜像

```bash
docker image ls
仓库名 标签 镜像id 创建时间 所占空间
```

镜像体积

```bash
docker system df
```

虚悬镜像

```bash
docker ls -f dangling=true
docker image prune
```

中间层镜像

```bash
docker image ls
显示顶层镜像
docker image ls -a
显示所有镜像
```

删除镜像

```bash
docker image rm [选项] <镜像> [<镜像>]
<镜像> 可以是 镜像长短ID, 镜像名称(仓库名:标签)
```

定制一个nginx服务器, 本机8080映射docker80

```bash
docker run --name webserver -d -p 8080:80 nginx
```

删除容器，镜像

```bash
docker ps
docker stop xxx
docker rm xxx
docker rmi 镜像
```

## 在Docker中创建CentOS,Python环境的容器

Dockerfile

```text
FROM centos
FROM python:3.7.9
```

```bash
# 打包一个镜像
sudo docker build -t 'centos_py379' .
# 查看已有镜像
docker image ls
# 运行&创建容器
docker run --name centos_py379 -it 65d5b6c539fd
# 查看所有容器
docker ps -a
# 启动容器
docker start 8430b2f56af5
# 进入容器
docker exec -it 8430b2f56af5
docker attach <CONTAINER ID>
```
