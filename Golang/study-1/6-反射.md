# 反射

[toc]

## 0

反射是指计算机程序在运行时可以动态地访问、检测和修改本身状态或行为的能力。

Go 语言反射的基础是**接口和类型系统**
Go 语言反射的基础是编译器和运行时把类型信息以合适的数据结构保存在可执行程序中。

reflect

## 1 基本概念

Go 语言反射借助了实例到接口的转换所使用的数据结构，
首先将实例传递给内部的空接口，把一个实例类型转换为接口可以表述的数据结构 eface
反射基于这个转换后的数据结构来访问和操作实例的值和类型。

### 1.1 基本数据结构和入口函数

rtype：描述类型公共信息的结构
实现了接口 reflect.Type
函数 reflect.TypeOf() 返回一个 Type 类型的接口，通过接口获取对象的信息

```text
func TypeOf(i interface{}) Type

传进入的实参：
    接口变量：
        如果绑定了具体类型实例，返回接口的动态类型(绑定的具体实例类型的信息)
        没有绑定，返回自身静态类型信息
    具体类型变量，返回具体类型信息
```
